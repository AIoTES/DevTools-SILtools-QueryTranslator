<div class="row">
    <div class="col-md-3 sidebar">
        <div class="pad-15">
            <div class="form-group">
                <label for="deviceTypes">Device ID</label>
                <input type="text" [(ngModel)]="model.deviceId" class="form-control" (keyup)="deviceIdChanged()">
                <small>* comma separated, eg: deviceID1, deviceID2</small>
            </div>

            <div class="form-group">
                <label for="deviceTypes">Select a device type</label>
                <ng-multiselect-dropdown [placeholder]="'Select a device'" [data]="deviceTypes" [(ngModel)]="model.deviceType"
                    [settings]="dropdownSettings" (onSelect)="onDeviceTypeItemSelect($event)" (onSelectAll)="onDeviceTypeSelectAll($event)">
                </ng-multiselect-dropdown>
            </div>

            <div class="form-group">
                <label for="platform">Select a platform</label>
                <ng-multiselect-dropdown [placeholder]="'Select a platform'" [data]="platforms" [(ngModel)]="model.platform"
                    [settings]="dropdownSettings" (onSelect)="onPlatformItemSelect($event)" (onSelectAll)="onPlatformSelectAll($event)">
                </ng-multiselect-dropdown>
            </div>

            <div class="form-group">
                <label for="ds">Select a deployment site</label>

                <ng-multiselect-dropdown [placeholder]="'Select a site'" [data]="ds" [(ngModel)]="model.ds" [settings]="dropdownSettings"
                    (onSelect)="onDsItemSelect($event)" (onSelectAll)="onDsSelectAll($event)">
                </ng-multiselect-dropdown>
            </div>

            <div class="form-group">
                <label for="ds">Select from date</label>
                <input type="text" ngbDatepicker #d="ngbDatepicker" class="form-control" [(ngModel)]="model.fromDate"
                    (focus)="d.toggle()" />
            </div>

            <div class="form-group">
                <ngb-timepicker [(ngModel)]="model.fromTime" [spinners]="false" *ngIf="model.fromDate"></ngb-timepicker>
            </div>

            <div class="form-group">
                <label for="ds">Select to date</label>
                <input type="text" ngbDatepicker #dTo="ngbDatepicker" class="form-control" [(ngModel)]="model.toDate"
                    (focus)="dTo.toggle()" />
            </div>

            <div class="form-group">
                <ngb-timepicker [(ngModel)]="model.toTime" [spinners]="false" *ngIf="model.toDate"></ngb-timepicker>
            </div>

        </div>
        <div class="footer">
            <button type="button" class="btn btn-success" (click)="search()">Search</button>
            <span class="inline-block pad-15"></span>
            <button type="button" class="btn btn-danger float-right" (click)="clearForm()">Clear form</button>
        </div>
    </div>
    <div class="col-md-4">
        <div *ngFor="let api of apis">
            <h4 class="api-details-header" (click)="toggleShowDetails(api)">{{api.url}}</h4>
            <div class="row" *ngIf="api.showDetails">
                <div class="col-md-12">
                    <div class="api-details"><label>URL</label>{{api.url}}</div>
                    <div class="api-details even"><label>Method</label>{{api.method}}</div>
                    <div class="api-details"><label>Headers</label>{{api.headers}}</div>
                    <div class="api-details even"><label>Body</label>{{api.body}}</div>
                    <button class="api-details-button btn btn-success d-block">Call API</button>
                    <br/>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-5">
        <div *ngIf="responseData">
            <json-editor [data]="responseData"></json-editor>
        </div>
    </div>
</div>